@model Devir.DMS.Web.Models.Reference.DynamicRecordViewModel

@{
    Layout = null;    
}

<script>
    fixFormTarget();
</script>

@using (Ajax.BeginForm((bool)ViewBag.isForUpdate == false ? "AddDynamicRecord" : "UpdateDynamicRecord", new AjaxOptions() { HttpMethod = "POST", UpdateTargetId = "addModal" }))
{
    @Html.HiddenFor(m=>m.RecordId)
    @Html.HiddenFor(m=>m.ReferenceId)        
    <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="addModalLabel">Добавить</h3>
            </div>
            <div class="modal-body" id="addModalBody"> 
    @Html.ValidationSummary(true)

            <fieldset>
                <legend>DynamicReference</legend>
                 <div class="controls controls-row">
                <label class="span2"></label><label class="span2"></label>
            </div>
                <div class="editor-field">
                    @Html.EditorFor(model => model.Fields)                   
                </div>               
               
          

            </fieldset>
                    </div>
            <div class="modal-footer">
                <button class="btn" data-dismiss="modal" aria-hidden="true">Закрыть</button>
                <input type="submit" id="btnSave" class="btn btn-primary" value="Сохранить" />
            </div>
}